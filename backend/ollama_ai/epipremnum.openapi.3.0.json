{
	"info": {
		"title": "epipremnum",
		"description": "",
		"version": "1.0.0"
	},
	"openapi": "3.0.0",
	"servers": [
		{
			"url": "",
			"description": "默认环境",
			"variables": {}
		},
		{
			"url": "http://192.168.55.133:8888",
			"description": "后端地址",
			"variables": {}
		}
	],
	"paths": {
		"http://127.0.0.1:8888/api/ollama/generate/title/": {
			"post": {
				"summary": "生成图片标题",
				"description": "",
				"tags": [
					"ollama交互接口"
				],
				"parameters": [
					{
						"name": "Authorization",
						"in": "header",
						"description": "",
						"required": true,
						"example": "",
						"schema": {
							"type": "string"
						}
					}
				],
				"requestBody": {
					"content": {
						"multipart/form-data": {
							"schema": {
								"type": "object",
								"properties": {
									"media_id": {
										"type": "string",
										"example": "17",
										"description": ""
									}
								},
								"required": [
									"media_id"
								]
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "成功",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {}
								},
								"example": ""
							}
						}
					},
					"404": {
						"description": "失败",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {}
								},
								"example": ""
							}
						}
					}
				}
			}
		},
		"http://127.0.0.1:8888/api/ollama/generate/description/": {
			"post": {
				"summary": "生成图片描述",
				"description": "",
				"tags": [
					"ollama交互接口"
				],
				"parameters": [
					{
						"name": "Authorization",
						"in": "header",
						"description": "",
						"required": true,
						"example": "",
						"schema": {
							"type": "string"
						}
					}
				],
				"requestBody": {
					"content": {
						"multipart/form-data": {
							"schema": {
								"type": "object",
								"properties": {
									"media_id": {
										"type": "string",
										"example": "17",
										"description": ""
									}
								},
								"required": [
									"media_id"
								]
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "成功",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {}
								},
								"example": ""
							}
						}
					},
					"404": {
						"description": "失败",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {}
								},
								"example": ""
							}
						}
					}
				}
			}
		},
		"http://127.0.0.1:8888/api/ollama/generate/prompt/": {
			"post": {
				"summary": "生成图片提示词",
				"description": "",
				"tags": [
					"ollama交互接口"
				],
				"parameters": [
					{
						"name": "Authorization",
						"in": "header",
						"description": "",
						"required": true,
						"example": "",
						"schema": {
							"type": "string"
						}
					}
				],
				"requestBody": {
					"content": {
						"multipart/form-data": {
							"schema": {
								"type": "object",
								"properties": {
									"media_id": {
										"type": "string",
										"example": "17",
										"description": ""
									}
								},
								"required": [
									"media_id"
								]
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "成功",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {}
								},
								"example": ""
							}
						}
					},
					"404": {
						"description": "失败",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {}
								},
								"example": ""
							}
						}
					}
				}
			}
		},
		"http://127.0.0.1:8888/api/ollama/generate/categories/": {
			"post": {
				"summary": "生成分类建议",
				"description": "",
				"tags": [
					"ollama交互接口"
				],
				"parameters": [
					{
						"name": "Authorization",
						"in": "header",
						"description": "",
						"required": true,
						"example": "",
						"schema": {
							"type": "string"
						}
					}
				],
				"requestBody": {
					"content": {
						"multipart/form-data": {
							"schema": {
								"type": "object",
								"properties": {
									"media_id": {
										"type": "string",
										"example": "17",
										"description": ""
									},
									"max_categories": {
										"type": "string",
										"example": "5",
										"description": ""
									}
								},
								"required": [
									"media_id",
									"max_categories"
								]
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "成功",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {}
								},
								"example": ""
							}
						}
					},
					"404": {
						"description": "失败",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {}
								},
								"example": ""
							}
						}
					}
				}
			}
		},
		"http://127.0.0.1:8888/api/ollama/generate/tags/": {
			"post": {
				"summary": "生成标签建议",
				"description": "",
				"tags": [
					"ollama交互接口"
				],
				"parameters": [
					{
						"name": "Authorization",
						"in": "header",
						"description": "",
						"required": true,
						"example": "",
						"schema": {
							"type": "string"
						}
					}
				],
				"requestBody": {
					"content": {
						"multipart/form-data": {
							"schema": {
								"type": "object",
								"properties": {
									"media_id": {
										"type": "string",
										"example": "17",
										"description": ""
									},
									"max_tags": {
										"type": "string",
										"example": "10",
										"description": ""
									}
								},
								"required": [
									"media_id",
									"max_tags"
								]
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "成功",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {}
								},
								"example": ""
							}
						}
					},
					"404": {
						"description": "失败",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {}
								},
								"example": ""
							}
						}
					}
				}
			}
		},
		"http://127.0.0.1:8888/api/ollama/generate/combined/": {
			"post": {
				"summary": "组合分析（同时生成多种内容）",
				"description": "",
				"tags": [
					"ollama交互接口"
				],
				"parameters": [
					{
						"name": "Authorization",
						"in": "header",
						"description": "",
						"required": true,
						"example": "",
						"schema": {
							"type": "string"
						}
					}
				],
				"requestBody": {
					"content": {
						"multipart/form-data": {
							"schema": {
								"type": "object",
								"properties": {
									"media_id": {
										"type": "string",
										"example": "17",
										"description": ""
									},
									"generate_title": {
										"type": "string",
										"example": "true",
										"description": ""
									},
									"generate_description": {
										"type": "string",
										"example": "true",
										"description": ""
									},
									"generate_prompt": {
										"type": "string",
										"example": "true",
										"description": ""
									},
									"generate_categories": {
										"type": "string",
										"example": "true",
										"description": ""
									},
									"generate_tags": {
										"type": "string",
										"example": "true",
										"description": ""
									},
									"max_categories": {
										"type": "string",
										"example": "5",
										"description": ""
									},
									"max_tags": {
										"type": "string",
										"example": "8",
										"description": ""
									}
								},
								"required": [
									"media_id",
									"generate_title",
									"generate_description",
									"generate_prompt",
									"generate_categories",
									"generate_tags",
									"max_categories",
									"max_tags"
								]
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "成功",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {}
								},
								"example": ""
							}
						}
					},
					"404": {
						"description": "失败",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {}
								},
								"example": ""
							}
						}
					}
				}
			}
		},
		"http://127.0.0.1:8888/api/ollama/test-connection/": {
			"get": {
				"summary": "测试 Ollama 连接",
				"description": "",
				"tags": [
					"ollama交互接口"
				],
				"parameters": [
					{
						"name": "Authorization",
						"in": "header",
						"description": "",
						"required": true,
						"example": "",
						"schema": {
							"type": "string"
						}
					}
				],
				"requestBody": {
					"content": {
						"application/json": {
							"schema": {
								"type": "object",
								"properties": {}
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "成功",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {}
								},
								"example": ""
							}
						}
					},
					"404": {
						"description": "失败",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {}
								},
								"example": ""
							}
						}
					}
				}
			}
		},
		"http://127.0.0.1:8888/api/ollama/models/": {
			"get": {
				"summary": "获取可用模型",
				"description": "",
				"tags": [
					"ollama交互接口"
				],
				"parameters": [
					{
						"name": "Authorization",
						"in": "header",
						"description": "",
						"required": true,
						"example": "",
						"schema": {
							"type": "string"
						}
					}
				],
				"requestBody": {
					"content": {
						"application/json": {
							"schema": {
								"type": "object",
								"properties": {}
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "成功",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {}
								},
								"example": ""
							}
						}
					},
					"404": {
						"description": "失败",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {}
								},
								"example": ""
							}
						}
					}
				}
			}
		},
		"http://127.0.0.1:8888/api/ollama/models/sync/": {
			"post": {
				"summary": "同步模型",
				"description": "",
				"tags": [
					"ollama交互接口"
				],
				"parameters": [
					{
						"name": "Authorization",
						"in": "header",
						"description": "",
						"required": true,
						"example": "",
						"schema": {
							"type": "string"
						}
					}
				],
				"requestBody": {
					"content": {
						"application/json": {
							"schema": {
								"type": "object",
								"properties": {}
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "成功",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {}
								},
								"example": ""
							}
						}
					},
					"404": {
						"description": "失败",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {}
								},
								"example": ""
							}
						}
					}
				}
			}
		},
		"http://127.0.0.1:8888/api/ollama/endpoints/": {
			"get": {
				"summary": "获取端点列表",
				"description": "获取所有Ollama服务端点配置",
				"tags": [
					"端点管理"
				],
				"parameters": [
					{
						"name": "Authorization",
						"in": "header",
						"description": "",
						"required": true,
						"example": "",
						"schema": {
							"type": "string"
						}
					}
				],
				"responses": {
					"200": {
						"description": "成功",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {
										"endpoints": {
											"type": "array",
											"items": {
												"type": "object",
												"properties": {
													"id": {"type": "integer"},
													"name": {"type": "string"},
													"url": {"type": "string"},
													"description": {"type": "string"},
													"is_active": {"type": "boolean"},
													"is_default": {"type": "boolean"},
													"timeout": {"type": "integer"},
													"created_by": {"type": "string"},
													"created_at": {"type": "string"},
													"updated_at": {"type": "string"}
												}
											}
										},
										"total": {"type": "integer"}
									}
								}
							}
						}
					}
				}
			},
			"post": {
				"summary": "创建新端点",
				"description": "创建新的Ollama服务端点配置",
				"tags": [
					"端点管理"
				],
				"parameters": [
					{
						"name": "Authorization",
						"in": "header",
						"description": "",
						"required": true,
						"example": "",
						"schema": {
							"type": "string"
						}
					}
				],
				"requestBody": {
					"content": {
						"application/json": {
							"schema": {
								"type": "object",
								"properties": {
									"name": {"type": "string", "description": "端点名称"},
									"url": {"type": "string", "description": "服务端点URL"},
									"description": {"type": "string", "description": "描述（可选）"},
									"is_default": {"type": "boolean", "description": "是否设为默认端点"},
									"timeout": {"type": "integer", "description": "超时时间（秒）"}
								},
								"required": ["name", "url"]
							}
						}
					}
				},
				"responses": {
					"201": {
						"description": "创建成功",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {
										"message": {"type": "string"},
										"endpoint": {
											"type": "object",
											"properties": {
												"id": {"type": "integer"},
												"name": {"type": "string"},
												"url": {"type": "string"},
												"description": {"type": "string"},
												"is_active": {"type": "boolean"},
												"is_default": {"type": "boolean"},
												"timeout": {"type": "integer"}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		},
		"http://127.0.0.1:8888/api/ollama/endpoints/{endpoint_id}/": {
			"get": {
				"summary": "获取端点详情",
				"description": "获取指定端点的详细信息",
				"tags": [
					"端点管理"
				],
				"parameters": [
					{
						"name": "Authorization",
						"in": "header",
						"description": "",
						"required": true,
						"example": "",
						"schema": {
							"type": "string"
						}
					},
					{
						"name": "endpoint_id",
						"in": "path",
						"required": true,
						"schema": {
							"type": "integer"
						}
					}
				],
				"responses": {
					"200": {
						"description": "成功",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {
										"id": {"type": "integer"},
										"name": {"type": "string"},
										"url": {"type": "string"},
										"description": {"type": "string"},
										"is_active": {"type": "boolean"},
										"is_default": {"type": "boolean"},
										"timeout": {"type": "integer"},
										"created_by": {"type": "string"},
										"created_at": {"type": "string"},
										"updated_at": {"type": "string"}
									}
								}
							}
						}
					}
				}
			},
			"put": {
				"summary": "更新端点配置",
				"description": "更新指定端点的配置信息",
				"tags": [
					"端点管理"
				],
				"parameters": [
					{
						"name": "Authorization",
						"in": "header",
						"description": "",
						"required": true,
						"example": "",
						"schema": {
							"type": "string"
						}
					},
					{
						"name": "endpoint_id",
						"in": "path",
						"required": true,
						"schema": {
							"type": "integer"
						}
					}
				],
				"requestBody": {
					"content": {
						"application/json": {
							"schema": {
								"type": "object",
								"properties": {
									"name": {"type": "string"},
									"url": {"type": "string"},
									"description": {"type": "string"},
									"is_active": {"type": "boolean"},
									"is_default": {"type": "boolean"},
									"timeout": {"type": "integer"}
								}
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "更新成功",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {
										"message": {"type": "string"},
										"endpoint": {"type": "object"}
									}
								}
							}
						}
					}
				}
			},
			"delete": {
				"summary": "删除端点",
				"description": "删除指定的端点配置",
				"tags": [
					"端点管理"
				],
				"parameters": [
					{
						"name": "Authorization",
						"in": "header",
						"description": "",
						"required": true,
						"example": "",
						"schema": {
							"type": "string"
						}
					},
					{
						"name": "endpoint_id",
						"in": "path",
						"required": true,
						"schema": {
							"type": "integer"
						}
					}
				],
				"responses": {
					"200": {
						"description": "删除成功",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {
										"message": {"type": "string"}
									}
								}
							}
						}
					}
				}
			}
		},
		"http://127.0.0.1:8888/api/ollama/endpoints/{endpoint_id}/test/": {
			"post": {
				"summary": "测试指定端点连接",
				"description": "测试指定端点的连接状态",
				"tags": [
					"端点管理"
				],
				"parameters": [
					{
						"name": "Authorization",
						"in": "header",
						"description": "",
						"required": true,
						"example": "",
						"schema": {
							"type": "string"
						}
					},
					{
						"name": "endpoint_id",
						"in": "path",
						"required": true,
						"schema": {
							"type": "integer"
						}
					}
				],
				"responses": {
					"200": {
						"description": "测试结果",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {
										"success": {"type": "boolean"},
										"message": {"type": "string"},
										"error": {"type": "string"}
									}
								}
							}
						}
					}
				}
			}
		},
		"http://127.0.0.1:8888/api/ollama/endpoints/test/": {
			"post": {
				"summary": "测试默认端点连接",
				"description": "测试默认端点的连接状态",
				"tags": [
					"端点管理"
				],
				"parameters": [
					{
						"name": "Authorization",
						"in": "header",
						"description": "",
						"required": true,
						"example": "",
						"schema": {
							"type": "string"
						}
					}
				],
				"responses": {
					"200": {
						"description": "测试结果",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {
										"success": {"type": "boolean"},
										"message": {"type": "string"},
										"error": {"type": "string"}
									}
								}
							}
						}
					}
				}
			}
		}
	},
	"tags": [
		{
			"name": "ollama交互接口",
			"description": ""
		},
		{
			"name": "端点管理",
			"description": "Ollama服务端点配置管理"
		}
	]
}